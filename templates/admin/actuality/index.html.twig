{% extends 'admin/layout.html.twig' %}

{% block title %}Actuality index{% endblock %}

{% block body %}

    <h2>Toutes les actualitès</h2>

    <p class="btn-retour"><a href="{{ path('actuality_new') }}">Publier une actualité</a></p>

        {% for actuality in actualities %}

            <div class="container-actuality">

                <div class="info-actuality">

                    <p class="name">{{ actuality.title }}</p>
                    <p class="info-img"><img class="imgActuality" src="{{ vich_uploader_asset(actuality.image, 'file') }}" alt="{{ actuality.title }}" /></p>
                    <p class="content">{{ actuality.content |u.truncate(150, '...', false) }}</p>
                    <p class="date-actu">{{ actuality.createdAt ? actuality.createdAt|date('d-m-Y') : '' }}</p>

                    <div class="actu-show">
                        <p class="btn-actu"><a href="{{ path('actuality_show', {'id': actuality.id}) }}">Lire la suite</a></p>
                        <p class="btn-actu"><a href="{{ path('actuality_edit', {'id': actuality.id}) }}">Modifier</a></p>
                        {{ include('admin/actuality/_delete_form.html.twig') }}
                    </div>
                </div>

            </div>
                
        {% endfor %}

    {{ knp_pagination_render(actualities) }}

{% endblock %}
